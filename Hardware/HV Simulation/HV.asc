Version 4
SHEET 1 1336 720
WIRE -176 64 -624 64
WIRE 32 64 -176 64
WIRE 160 64 32 64
WIRE 352 64 240 64
WIRE 400 64 352 64
WIRE 512 64 464 64
WIRE 640 64 512 64
WIRE 784 64 640 64
WIRE -624 112 -624 64
WIRE -560 112 -624 112
WIRE -176 112 -176 64
WIRE -176 112 -224 112
WIRE 352 112 352 64
WIRE 640 112 640 64
WIRE 784 160 784 64
WIRE 512 176 512 64
WIRE -624 192 -624 112
WIRE -560 192 -624 192
WIRE -80 192 -224 192
WIRE 96 192 -80 192
WIRE 176 192 96 192
WIRE 208 192 176 192
WIRE 288 192 272 192
WIRE 304 192 288 192
WIRE 640 224 640 192
WIRE 656 224 640 224
WIRE 288 240 288 192
WIRE 288 240 272 240
WIRE 96 256 96 192
WIRE 640 256 640 224
WIRE -656 272 -672 272
WIRE -624 272 -656 272
WIRE -560 272 -624 272
WIRE -128 272 -224 272
WIRE 32 272 32 64
WIRE -128 288 -128 272
WIRE 176 288 176 192
WIRE 208 288 176 288
WIRE -560 352 -672 352
WIRE -192 352 -224 352
WIRE 32 368 32 336
WIRE 96 368 96 336
WIRE 96 368 32 368
WIRE 272 368 272 336
WIRE 272 368 96 368
WIRE 352 368 352 208
WIRE 352 368 272 368
WIRE 512 368 512 240
WIRE 512 368 352 368
WIRE 640 368 640 336
WIRE 640 368 512 368
WIRE 784 368 784 240
WIRE 784 368 640 368
WIRE -672 384 -672 352
WIRE -128 384 -128 352
WIRE 352 400 352 368
FLAG 352 400 0
FLAG 656 224 Vref
FLAG -192 352 Vref
FLAG -672 384 0
FLAG -128 384 0
FLAG 784 64 Vo
FLAG -80 192 Vcrl
FLAG 352 64 Vd
FLAG 288 192 vg
FLAG 32 64 Vin
FLAG -656 272 Vs
SYMBOL voltage -672 256 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -51 22 Left 2
WINDOW 3 -51 86 Left 2
SYMATTR InstName Vs
SYMATTR Value 12
SYMBOL ind 256 48 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 220µ
SYMATTR SpiceLine Ipk=1.24 Rser=0.305
SYMBOL cap 16 272 R0
SYMATTR InstName Cin
SYMATTR Value 220µ
SYMATTR SpiceLine Rser=1.5
SYMBOL cap 496 176 R0
SYMATTR InstName Cout
SYMATTR Value 2.2µ
SYMATTR SpiceLine V=400 Rser=1.5
SYMBOL diode 400 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value DI_US1G
SYMBOL diode 208 208 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value BAS16H
SYMBOL pnp 208 336 M180
SYMATTR InstName Q1
SYMATTR Value DI_MMBTA92
SYMBOL res 624 96 R0
SYMATTR InstName R2
SYMATTR Value 680k
SYMBOL res 624 240 R0
SYMATTR InstName R1
SYMATTR Value 4K7
SYMBOL res 80 240 R0
SYMATTR InstName Rg
SYMATTR Value 1k
SYMBOL nmos 304 112 R0
SYMATTR InstName M1
SYMATTR Value irf644S
SYMATTR Prefix X
SYMBOL cap -144 288 R0
SYMATTR InstName CT
SYMATTR Value 0.87nF
SYMBOL res -640 176 R0
SYMATTR InstName RS
SYMATTR Value 10m
SYMBOL load2 784 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName ILoad
SYMATTR Value {I}
SYMBOL MC34063 -320 208 R0
SYMATTR InstName U1
TEXT -1632 -304 Left 2 !.tran 0 {tstop} {tsave} {timestep} uic
TEXT -1632 -240 Left 2 !.inc Lib\\MC34063.lib\n.inc Lib\\IRF644.lib\n.inc Lib\\US1G.lib\n.inc Lib\\MMBTA92.lib\n.inc Lib\\MMBTA42.lib\n.inc Lib\\BAS16H.lib
TEXT -1632 -56 Left 2 !.param t=20ms\n.param tsave=0ms\n.param toffset=10ms\n.param tstop= t\n.param npoints=1000\n.param timestep=t/npoints\n.step param I list 0m 1m 2.5m 5m 10m 20m 40m 50m 60m 70m\n.meas TRAN Vo AVG V(vo) TRIG time=toffset TARG time=t\n.meas TRAN Vs AVG V(vs) TRIG time=toffset TARG time=t\n.meas TRAN Irs AVG -I(Rs) TRIG time=toffset TARG time=t\n.meas TRAN Iload AVG I(Iload) TRIG time=toffset TARG time=t\n.meas TRAN Pout AVG (V(vo)*I(ILoad)) TRIG time=toffset TARG time=t\n.meas TRAN Pin AVG (-I(Rs)*V(vs)) TRIG time=toffset TARG time=t\n.meas TRAN Pdio AVG (V(Vd,Vo)*I(D1)) TRIG time=toffset TARG time=t\n.meas TRAN Pmos AVG (V(vd)*Ix(M1:D)) TRIG time=toffset TARG time=t\n.meas TRAN Pcout AVG (I(Cout)*V(vo)) TRIG time=toffset TARG time=t\n.meas TRAN Pind AVG (I(L1)*V(vd,vin)) TRIG time=toffset TARG time=t\n.meas Eff PARAM (Pout/Pin)*100\n.meas PerMos PARAM (Pmos/Pin)*100\n.meas PerDio PARAM (Pdio/Pin)*100\n.meas PerCout PARAM (Pcout/Pin)*100\n.meas PerInd PARAM (Pind/Pin)*100
